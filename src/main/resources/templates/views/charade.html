<!DOCTYPE html>
<html class="charade">
    <head>
        <meta charset="UTF-8">
        <link rel="stylesheet" type="text/css" href="/app.css" />
        <!-- <link rel= "stylesheet" href = "https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css"> -->
        <link rel="icon" type="image/png" href="/img/noun-enigma-1875558.png"/>
        <title>Enigma</title>
    </head>
    <script>
        function change() {
            var r1 = document.getElementById("r1").value
            var r2 = document.getElementById("r2").value
            var r3 = document.getElementById("r3").value
            var btn = document.getElementById("btn")
            var i = 0
            var j = 0
            var k = 0

            if (r1.toUpperCase()=="JOHNNY DEPP") {
                i = 1
                document.getElementById("r1").disabled = true
            }

            if (r2.toUpperCase()=="ELEGANCE") {
                j = 1
                document.getElementById("r2").disabled = true
            }

            if (r3.toUpperCase()=="CAOUTCHOUC") {
                k = 1
                document.getElementById("r3").disabled = true
            }

            if ((i + j + k) == 3) {
                btn.style.visibility = 'visible'
            } else {
                btn.style.visibility = 'hidden'
            }
        }

    </script>
    <body>
        <main>
            <div class="row" style="margin: 0%;">
                <div class="col-md-4">
                    <div class="card" style="width: 18rem; height: 600px;">
                        <img src="https://www.fan-fortboyard.fr/medias/images/fort-boyard-personnages-passe-partout-2015-01.jpg?fx=c_450_314" class="card-img-top" alt="...">
                        <div class="card-body">
                            <h5 class="card-title">Charade n°1</h5>
                            <h6 class="card-subtitle mb-2 text-muted">Cool trip a Las Vegas</h6>
                            <p class="card-text" th:utext="${charade.charade}"></p>
                            <form action="/verifyAnswer" method="post">
                                <input type="text" id="answer" name="answer" placeholder="Entrez votre réponse" onchange="change()" />
                                <button type="submit">Soumettre</button>
                            </form>
                            <p th:text="${result}"></p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card" style="width: 18rem; height: 600px;">
                        <img src="https://static.choualbox.com/Img/1598719528342.png" class="card-img-top" alt="...">
                        <div class="card-body">
                            <h5 class="card-title">Charade n°2</h5>
                                <h6 class="card-subtitle mb-2 text-muted">Tropicale</h6>
                            <p class="card-text">Mon premier peut entourer une propriété comme une barrière végétale.</p>
                            <p class="card-text">Les bébés boivent mon deuxième.</p>
                            <p class="card-text">On porte mon troisième l'hiver, pour ne pas avoir froid aux mains.</p>
                            <p class="card-text">Mon quatrième est le masculin pluriel de celui.</p>
                            <p class="card-text">Mon tout est nécessaire si l'on veut avoir la classe.</p>
                            <input type="text" id="r2" name="r2" placeholder="Entrez votre réponse" onchange="change()"/>
                            <button>Soumettre</button>
                        </div>
                    </div>
                </div> 
                <div class="col-md-4">
                    <div class="card" style="width: 18rem; height: 600px;">
                        <img src="https://s1.dmcdn.net/v/Tc0gg1YI_ZcJOBlEK/x1080" class="card-img-top" alt="...">
                        <div class="card-body">
                            <h5 class="card-title">Charade n°3</h5>
                                <h6 class="card-subtitle mb-2 text-muted">Elastique</h6>
                            <p class="card-text">Mon premier est la huitième consonne de l'alphabet.</p>
                            <p class="card-text">Mon deuxième se dit au tennis lorsqu'une balle sort de la surface de jeu.</p>
                            <p class="card-text">Mon troisième est un légume.</p>
                            <p class="card-text">Mon tout est une matière qui est assez élastique.</p>
                            <input type="text" id="r3" name="r3" placeholder="Entrez votre réponse" onchange="change()"/>
                            <button>Soumettre</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row" style="margin-top:5%;">
                <a th:href="@{/}"><button>Accueil</button></a>
                <a th:href="@{/calcul}"><button id="btn" style="visibility: hidden;">Enigme suivante</button></a>
            </div>
        </main>
    </body>
</html>